Consul：服務注冊和發現 + 配置管理
https://developer.hashicorp.com/consul/docs
https://spring.io/projects/spring-cloud-consul

啓動: .\consul agent -dev

訪問: http://localhost:8500/ui/dc1/services

@Configuration
public class RestTemplateConfig {

    @Bean
    @LoadBalanced
    public RestTemplate restTemplate() {
        return new RestTemplate();
    }
}

因爲通過Consul去訪問微服務默認是支持負載的，所以必須在RestTemplate的Bean上添加@LoadBalanced ！！！！！！！！！！！！！！


配置管理:
       <!-- SpringCoud consul config-->
        <dependency>
            <groupId>org.springframework.cloud</groupId>
            <artifactId>spring-cloud-starter-consul-config</artifactId>
        </dependency>

        <dependency>
            <groupId>org.springframework.cloud</groupId>
            <artifactId>spring-cloud-starter-bootstrap</artifactId>
        </dependency>


#application.yml使用戶級別的資源配置項
#bootstrap.yml 是系統級別的，優先級別更高,比application.yml先加載

Spring Cloud 會先創建要給Bootstrap Context, 作爲Spring應用的 Application Context的父上下文。
初始化的時候，Bootstrap Context負責從外部源加載配置屬性(例如Consul中的全局配置!!!!!)，并且解析配置。這兩個上下文共享一個外部獲得的Environment


在主啓動類上添加: @RefreshScope 實現Consul中更新后，應用中立刻自動更新

----------------------------------------------------------------------------------------------------------------------------------------

loadBalancer： 負載均衡
OpenFeign： 服務調用

Circuit Breaker：服務熔斷和降級

Micrometer Tracing: 服務鏈路追蹤

Gateway: 服務網關